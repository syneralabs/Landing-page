<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Serviço | Synera Labs</title>
  <link rel="stylesheet" href="../../style/style.css">
  <link rel="stylesheet" href="../../style/services.css">
</head>
<body>

 <header id="content-herder">
        <div class="Menu-fixed">
            <div id="logo">
                <h1 class="logoH1">Synera Labs</h1>
            </div>
            <nav id="menu">
                <button onclick="this.querySelector('svg').classList.toggle('is-closed')"
                class="button" id="button"> 

                <svg class="burger-6 ham hamRotate ham1" viewBox="0 0 100 100">
                    <path
                        class="line top"
                        d="m 30,33 h 40 c 0,0 9.044436,-0.654587 9.044436,-8.508902 0,-7.854315 -8.024349,-11.958003 -14.89975,-10.85914 -6.875401,1.098863 -13.637059,4.171617 -13.637059,16.368042 v 40"
                    />
                    <path class="line middle" d="m 30,50 h 40" />
                    <path
                        class="line bottom"
                        d="m 30,67 h 40 c 12.796276,0 15.357889,-11.717785 15.357889,-26.851538 0,-15.133752 -4.786586,-27.274118 -16.667516,-27.274118 -11.88093,0 -18.499247,6.994427 -18.435284,17.125656 l 0.252538,40"
                    />
                </svg>

                </button>
                <ul class="esconder menu">
                    <li><a href="#content-herder" class="text-menu">Home</a></li>
                    <li><a href="#cont1" class="text-menu">Sobre Nós</a></li>
                    <li><a href="#footer" class="text-menu">Contato</a></li>
                    <li><a href="./projetosistemaback/public/services.html" class="text-menu" target="_blank">Serviços</a></li>
                    <li><a href="./projetosistemaback/public/pagamento.html" class="text-menu" target="_blank">Pagamento</a></li>
                    <li><a href="./projetosistemaback/public/menu.html" class="text-menu" target="_blank">Menu de Asinaturas</a></li>
                    <li><a id="menu-login" href="./projetosistemaback/public/" class="text-menu">Login</a></li>
                    <span class="laser"></span>
                </ul>
            </nav>
        </div>
    </header>

  <div class="container" style="max-width:900px;margin:48px auto;padding:24px;">
    <h1 id="servicoNome">Carregando...</h1>
    <p id="servicoDescricao" style="margin-top:12px;color:#333;"></p>
    <p id="servicoPreco" style="margin-top:8px;font-weight:600;"></p>

    <div style="margin-top:20px; display:flex; gap:12px;">
      <button onclick="confirmarServico()" style="padding:10px 14px;border-radius:8px;background:#00a6ff;color:#fff;border:none;cursor:pointer;">Confirmar Serviço</button>
      <button onclick="voltarMenu()" style="padding:10px 14px;border-radius:8px;background:#f0f0f0;color:#333;border:none;cursor:pointer;">Voltar</button>
    </div>
  </div>

  <script>
    // lê query string
    const qs = new URLSearchParams(window.location.search);

    // tenta ler da query; se não existir, tenta localStorage
    const nome = qs.get('nome') || localStorage.getItem('nome') || null;
    const descricao = qs.get('descricao') || localStorage.getItem('descricao') || null;
    const preco = qs.get('preco') || localStorage.getItem('preco') || null;

    const nomeEl = document.getElementById('servicoNome');
    const descEl = document.getElementById('servicoDescricao');
    const precoEl = document.getElementById('servicoPreco');

    if (nome) {
      nomeEl.textContent = nome;
    } else {
      nomeEl.textContent = 'Serviço não encontrado';
    }

    descEl.textContent = descricao ? descricao : 'Descrição não disponível.';
    precoEl.textContent = preco && preco !== '0' ? `Preço: R$ ${preco}` : 'Preço: Sob consulta';

    function confirmarServico() {
      // Redireciona para pagamento.html com parâmetros do serviço
      const nomeServico = nomeEl.textContent;
      const precoServico = precoEl.textContent.replace("Preço: R$ ", "").replace("Preço: ", "");

      const params = new URLSearchParams();
      params.set("nome", nomeServico);
      params.set("preco", precoServico);

      window.location.href = "pagamento.html?" + params.toString();
    }

    function voltarMenu() {
      // volta para onde o usuário veio (serviços)
      if (document.referrer && document.referrer.includes('services.html')) {
        window.location.href = 'services.html';
      } else {
        window.history.back();
      }
    }
  </script>
</body>
</html>

